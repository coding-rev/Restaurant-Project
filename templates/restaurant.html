{% extends 'base.html' %}
{% load static %}
{% block title %} - Restaurant {% endblock %}
{% block styles %}
<link rel="stylesheet" href="{% static 'assets/styles/main.css' %}">
<link rel="stylesheet" href="{% static 'assets/styles/orders.css' %}">
<link rel="stylesheet" href="{% static 'assets/styles/restaurant.css' %}">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&family=Poppins:wght@330&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
    integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
    crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
{% endblock %}
{% block content %}
<section class="mainBody">
    <!-- Header section -->
    <div class="header">
        <div class="flex">
            <i class="fa fa-bars"></i>
            <aside class="username_date">
                <h2 class="username">{{request.user.username}}</h2>
                <small class="todayDate">March, 23, 12:14 PM</small>
            </aside>
        </div>


        <div style="display: flex;align-items: center;margin-right: 5px;">
            <form class="search">
                <div class="searchBar">
                    <input type="text">
                </div>
                <button class="searchBtn">
                    <i class="fa fa-search"></i>
                </button>
            </form>
            {% include 'cartcomponent.html' %}
        </div>
    </div>


    <div class="mainPage">
        <div class="container1 homeContainer1">
            {% for object in restaurants %}
            <section>
                <h3>{{object.name}}</h3>
                <div class="banner">
                    <div class="foodImg">
                        <img src="{{object.image.url}}" alt="">
                    </div>
                    <div class="subDes">
                        <h1 class="mainFoodTitle">{{object.meals.first.name}}</h1>
                        <i>{{object.meals.first.description|truncatewords:50}}</i><br><br>
                        <p>
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. A architecto sequi
                            ratione mollitia optio exercitationem ea sunt voluptatum, eos cupiditate soluta
                            unde aspernatur ipsa voluptate. Suscipit, architecto? Ab, recusandae. Ea!
                        </p>
                        <h1 class="text-primary foodPrice">Rating: {{object.meals.first.rating}}%</h1>
                        <br>
                        <button class="btn btn-primary btnBuy" price="{{object.meals.first.price}}" name="{{object.meals.first.name}}">Buy Meal</button>

                    </div>
                </div>
            </section>
            {% endfor %}

        </div>
    </div>
</section>
{% endblock %}
{% block scripts %}
<script>

    const bars = document.querySelector(".fa-bars");
    const sideBar = document.querySelector(".sideBar");
    let checkSidebar = false;
    function checkBar() {
        if (!checkSidebar) {
            sideBar.classList.remove("showSidebar")
            bars.classList.remove("fa-times")
            if (!bars.classList.contains("fa-bars")) {
                bars.classList.add("fa-bars")
            }
        } else {
            sideBar.classList.add("showSidebar")
            bars.classList.add("fa-times")
            if (bars.classList.contains("fa-bars")) {
                bars.classList.remove("fa-bars")
            }
        }
    }
    bars.addEventListener("click", () => {
        checkSidebar = !checkSidebar;
        checkBar();
    })
</script>
<script src="{% static 'assets/scripts/uiInteractions.js' %}"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
{% endblock %}